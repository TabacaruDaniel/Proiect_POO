import java.util.Vector;

abstract class aparat{
    static double curent=425;
    abstract public void schimba_starea(rezultat a);
    abstract void cost_mentenanta(rezultat c);
}
class rezultat{
    protected double produs;
    protected double curent_consumat;
    protected float[] stare_perii;
    protected float volum_ramas;
    protected double functionare_ramasa;
    public rezultat(double produs,double curent_consumat,float[] stare_perii, float volum_ramas, float functionare_ramasa){
        this.produs=produs;
        this.curent_consumat=curent_consumat;
        this.stare_perii=stare_perii;
        this.volum_ramas=volum_ramas;
        this.functionare_ramasa=functionare_ramasa;
    }
}

class drujba {
    String denumire;
    float productivitate;
    float alimentare;
    int numar_elemente_taiere;
    float[] stare_element_taiere;
    float capacitate_rezervor_ulei;
    float volum_curent_ulei;
    double garantie_de_functionare;
    float lungime_lama_cm;
    float viteza_lant_mps;

    public void schimba_starea(rezultat a){
        System.out.println("In urma utilizarii drujbei " + denumire + " s-au taiat " + a.produs
                + " unitati.\nS-a consumat " + a.curent_consumat
                + "W.\nUlei ramas: " + a.volum_ramas + " L.");
        aparat.curent -= a.curent_consumat;
        volum_curent_ulei = a.volum_ramas;
        stare_element_taiere = a.stare_perii;
        garantie_de_functionare = a.functionare_ramasa;
    }

    void cost_mentenanta(rezultat c){
        if (stare_element_taiere == null || stare_element_taiere.length == 0) {
            System.out.println("Date insuficiente pentru calculul mentenantei.");
            return;
        }
        double uzuraMedie = 0.0;
        for (float v : stare_element_taiere) uzuraMedie += (1.0 - v); //v=1 nou si v=0 uzat
        uzuraMedie /= stare_element_taiere.length;

        double costLant = uzuraMedie * 120.0;
        double costUlei = (capacitate_rezervor_ulei - volum_curent_ulei) * 25.0; // lei/L
        System.out.println("Cost mentenanta estimat (drujba): " + (costLant + costUlei) + " lei.");
    }

    public rezultat pornire(float cerinta){
        double consum = alimentare * (cerinta / productivitate);
        if (consum > aparat.curent) return null;

        if (stare_element_taiere == null) return null;
        float[] vector = new float[stare_element_taiere.length];
        System.arraycopy(stare_element_taiere, 0, vector, 0, stare_element_taiere.length);

        float uzura = (cerinta / productivitate);
        for (int i = 0; i < vector.length; i++) {
            if (vector[i] > uzura) vector[i] -= uzura;
            else return null; //element prea uzat pentru cerinta data
        }

        //consum ulei: simplificat– 0.05 L per unitate de cerința
        float consumUlei = 0.05f * cerinta;
        float volumRamas = volum_curent_ulei - consumUlei;
        if (volumRamas < 0) return null;

        float funcRamasa = (float)Math.max(0, garantie_de_functionare - cerinta / productivitate);

        rezultat r = new rezultat(cerinta, consum, vector, volumRamas, funcRamasa);
        schimba_starea(r);
        return r;
    }

    //Constructor implicit
    drujba(){
        this.denumire = "";
    }

    //Constructor de copiere
    drujba(drujba a){
        this.denumire = a.denumire;
        this.productivitate = a.productivitate;
        this.alimentare = a.alimentare;
        this.numar_elemente_taiere = a.numar_elemente_taiere;
        this.stare_element_taiere = a.stare_element_taiere;
        this.capacitate_rezervor_ulei = a.capacitate_rezervor_ulei;
        this.volum_curent_ulei = a.volum_curent_ulei;
        this.garantie_de_functionare = a.garantie_de_functionare;
        this.lungime_lama_cm = a.lungime_lama_cm;
        this.viteza_lant_mps = a.viteza_lant_mps;
    }

    //Constructor complet
    drujba(String denumire, float productivitate, float alimentare,
           int numar_elemente_taiere, float[] stare_element_taiere,
           float capacitate_rezervor_ulei, float volum_curent_ulei,
           double garantie_de_functionare, float lungime_lama_cm, float viteza_lant_mps){
        this.denumire = denumire;
        this.productivitate = productivitate;
        this.alimentare = alimentare;
        this.numar_elemente_taiere = numar_elemente_taiere;
        this.stare_element_taiere = stare_element_taiere;
        this.capacitate_rezervor_ulei = capacitate_rezervor_ulei;
        this.volum_curent_ulei = volum_curent_ulei;
        this.garantie_de_functionare = garantie_de_functionare;
        this.lungime_lama_cm = lungime_lama_cm;
        this.viteza_lant_mps = viteza_lant_mps;
    }

    public String toString(){
        StringBuilder vect = new StringBuilder();
        if (stare_element_taiere != null) {
            for (int i = 0; i < stare_element_taiere.length; i++) {
                vect.append(stare_element_taiere[i]);
                if (i < stare_element_taiere.length - 1) vect.append(",");
            }
        }
        return denumire + " " + productivitate + " " + alimentare + " "
                + numar_elemente_taiere + " [" + vect + "] "
                + capacitate_rezervor_ulei + "L " + volum_curent_ulei + "L "
                + garantie_de_functionare + "h "
                + lungime_lama_cm + "cm " + viteza_lant_mps + "m/s";
    }
}

class trimmer {
    String denumire;
    float productivitate;
    float alimentare;
    int numar_elemente_taiere;
    float[] stare_element_taiere;
    float capacitate_cartus_fir;
    float fir_ramas;
    double garantie_de_functionare;
    float latime_taiere_cm;
    float turatie_rpm;

    public void schimba_starea(rezultat a){
        System.out.println("In urma utilizarii trimmerului " + denumire + " s-au tuns "
                + a.produs + " unitati.\nS-a consumat " + a.curent_consumat
                + "W.\nFir ramas: " + a.volum_ramas + " m.");
        aparat.curent -= a.curent_consumat;
        fir_ramas = a.volum_ramas;
        stare_element_taiere = a.stare_perii;
        garantie_de_functionare = a.functionare_ramasa;
    }

    void cost_mentenanta(rezultat c){
        if (stare_element_taiere == null || stare_element_taiere.length == 0) {
            System.out.println("Date insuficiente pentru calculul mentenantei.");
            return;
        }
        double uzuraMedie = 0.0;
        for (float v : stare_element_taiere) uzuraMedie += (1.0 - v);
        uzuraMedie /= stare_element_taiere.length;

        double costFir = (capacitate_cartus_fir - fir_ramas) * 3.5; // lei/m
        double costCapTaiere = uzuraMedie * 70.0;
        System.out.println("Cost mentenanta estimat (trimmer): " + (costFir + costCapTaiere) + " lei.");
    }

    public rezultat pornire(float cerinta){
        double consum = alimentare * (cerinta / productivitate);
        if (consum > aparat.curent) return null;

        if (stare_element_taiere == null) return null;
        float[] vector = new float[stare_element_taiere.length];
        System.arraycopy(stare_element_taiere, 0, vector, 0, stare_element_taiere.length);

        float uzura = (cerinta / productivitate);
        for (int i = 0; i < vector.length; i++) {
            if (vector[i] > uzura) vector[i] -= uzura;
            else return null;
        }

        //consum fir: 0.2 m / unitate de cerinta
        float consumFir = 0.2f * cerinta;
        float firRamasNou = fir_ramas - consumFir;
        if (firRamasNou < 0) return null;

        float funcRamasa = (float)Math.max(0, garantie_de_functionare - cerinta / productivitate);

        rezultat r = new rezultat(cerinta, consum, vector, firRamasNou, funcRamasa);
        schimba_starea(r);
        return r;
    }

    //Constructor implicit
    trimmer(){
        this.denumire = "";
    }

    //Constructor de copiere
    trimmer(trimmer t){
        this.denumire = t.denumire;
        this.productivitate = t.productivitate;
        this.alimentare = t.alimentare;
        this.numar_elemente_taiere = t.numar_elemente_taiere;
        this.stare_element_taiere = t.stare_element_taiere;
        this.capacitate_cartus_fir = t.capacitate_cartus_fir;
        this.fir_ramas = t.fir_ramas;
        this.garantie_de_functionare = t.garantie_de_functionare;
        this.latime_taiere_cm = t.latime_taiere_cm;
        this.turatie_rpm = t.turatie_rpm;
    }

    //Constructor complet
    trimmer(String denumire, float productivitate, float alimentare,
            int numar_elemente_taiere, float[] stare_element_taiere,
            float capacitate_cartus_fir, float fir_ramas,
            double garantie_de_functionare, float latime_taiere_cm, float turatie_rpm){
        this.denumire = denumire;
        this.productivitate = productivitate;
        this.alimentare = alimentare;
        this.numar_elemente_taiere = numar_elemente_taiere;
        this.stare_element_taiere = stare_element_taiere;
        this.capacitate_cartus_fir = capacitate_cartus_fir;
        this.fir_ramas = fir_ramas;
        this.garantie_de_functionare = garantie_de_functionare;
        this.latime_taiere_cm = latime_taiere_cm;
        this.turatie_rpm = turatie_rpm;
    }

    public String toString(){
        StringBuilder vect = new StringBuilder();
        if (stare_element_taiere != null) {
            for (int i = 0; i < stare_element_taiere.length; i++) {
                vect.append(stare_element_taiere[i]);
                if (i < stare_element_taiere.length - 1) vect.append(",");
            }
        }
        return denumire + " " + productivitate + " " + alimentare + " "
                + numar_elemente_taiere + " [" + vect + "] "
                + capacitate_cartus_fir + "m " + fir_ramas + "m "
                + garantie_de_functionare + "h "
                + latime_taiere_cm + "cm " + turatie_rpm + "rpm";
    }
}

public class Main {
    public static void main(String[] args) {
    }
}
